<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PlantUML and Kroki :: My documentation</title>
    <link rel="canonical" href="https://rolfkleef.github.io/documentation_system/technology_choices/plantuml-kroki.html">
    <link rel="prev" href="asciidoc-antora.html">
    <link rel="next" href="../style_choices/index.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css" rel="stylesheet">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://rolfkleef.github.io/index.html">rolf@drostan.org</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
          <a class="navbar-item" href="#">My documentation</a>
        <div class="navbar-item has-dropdown is-hoverable">
    <a class="navbar-link">Documentation system</a>
  <div class="navbar-dropdown">
        <a class="navbar-item" href="../../desktop/index.html">Desktop</a>
        <a class="navbar-item" href="../../overview/index.html">Overview</a>
        <a class="navbar-item" href="../../styleguide/index.html">Style guide</a>
  </div>
</div>
          <div class="navbar-item">
            <input id="search-input" type="text" placeholder="Search this section">
          </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="documentation_system" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Documentation system</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Technology choices</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc-antora.html">Asciidoc and Antora</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="plantuml-kroki.html">PlantUML and Kroki</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../style_choices/index.html">Style choices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../asciidoc/index.html">Asciidoc</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../asciidoc/code-documentation/index.html">Code and configuration documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../asciidoc/code-documentation/bash.html">Bash shell scripts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../asciidoc/code-documentation/yaml.html">Yaml files</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../antora/index.html">Antora</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Documentation system</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../desktop/index.html">Desktop</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../desktop/index.html">main</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Documentation system</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">main</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../overview/index.html">Overview</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../overview/index.html">main</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../styleguide/index.html">Style guide</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../styleguide/index.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../overview/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Documentation system</a></li>
    <li><a href="index.html">Technology choices</a></li>
    <li><a href="plantuml-kroki.html">PlantUML and Kroki</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/rolf/dev/websites/rolfkleef.github.io/docs/documentation_system/modules/ROOT/pages/technology_choices/plantuml-kroki.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">PlantUML and Kroki</h1>
<div class="sect1">
<h2 id="_main_considerations_for_diagrams"><a class="anchor" href="#_main_considerations_for_diagrams"></a>Main considerations for diagrams</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Diagrams as text</dt>
<dd>
<p>When diagram sources are plain text, it becomes a lot easier to integrate them in a development workflow,
using the same tools and processes as for textual content and source code.</p>
</dd>
<dt class="hdlist1">Semantic diagrams</dt>
<dd>
<p>Diagrams in documentation usually specify a structure or behaviour.
The source of diagrams therefore describes concepts and relations, rather than forms and shapes.
Diagrams as text stimulates using <a href="#_diagram_standards">Diagram standards</a>.</p>
</dd>
<dt class="hdlist1">Diagrams and source code</dt>
<dd>
<p>Diagrams as text can be included as documentation in source code, or be generated from sources.
In stricter situations, source code could also be generated from specifications in diagrams,
but this is not considered important in this stack.</p>
</dd>
<dt class="hdlist1">Layout control trade-off</dt>
<dd>
<p>Most diagram rendering engines offer very limited control over layout.
Styling can also be difficult, and keeping the style consistent with the rest of the documentation requires additional work.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stack_overview"><a class="anchor" href="#_stack_overview"></a>Stack overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two popular approaches to <em>diagrams as text</em> rendering engines.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><em>Generate images in a <em>compile</em> stage</em> when producing a static website, and include (links to) these images in the pages.</strong></p>
<div class="paragraph">
<p>This approach often uses GraphViz as part of the stack, to do layout.
There are many diagram syntaxes, for various domains.
A popular tool is PlantUML.</p>
</div>
</li>
<li>
<p><strong>Include a Javascript library to <em>render images in the browser</em> after a page is loaded.</strong></p>
<div class="paragraph">
<p>This approach usually replaces the diagram text and embeds SVG in a page.
The SVG image can use stylesheet information.
A popular tool is MermaidJS (which also can compile static images).</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The first approach is older, and there seem to be a wider choice of tools to write diagram text.</p>
</div>
<div class="paragraph">
<p>Kroki is an image processing tool and service that makes many different rendering engines available via a uniform API.
Kroki supports both PlantUML and MermaidJS.</p>
</div>
<div class="paragraph">
<p>Kroki is available as an online service.
It can also be run as local stand-alone service, although that takes some effort to set up.</p>
</div>
<div class="paragraph">
<p>Antora can use the asciidoctor-kroki module to convert diagram text in a page into an image.
This keeps the choice of diagram tool flexible.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_diagram_standards"><a class="anchor" href="#_diagram_standards"></a>Diagram standards</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_uml"><a class="anchor" href="#_uml"></a>UML</h3>
<div class="paragraph">
<p>UML is actually a modeling language.
In its full form, it lets you write a model for a system,
and produce different graphical views of this model.</p>
</div>
<div class="paragraph">
<p>UML provides a rich set of diagrams for both structural and behavioural documentation of a software system.
These diagrams provide a highly standardised visual notation for the concepts in the model.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>PlantUML supports drawing visual UML diagrams from textual descriptions, using its own syntax.
It does not offer any support for conceptual modeling itself.
This is sufficient for the documentation I do.</p>
</div>
<div class="paragraph">
<p>It is easy to write up a sufficiently detailed diagram to explain an approach.
It is also possible to include PlantUML documentation in a source file, and produce a diagram from that.
This makes keeping sources and documentation synchronised easier.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The specific notation of UML makes it harder to use in more general overviews and high-level descriptions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_c4"><a class="anchor" href="#_c4"></a>C4</h3>
<div class="paragraph">
<p>The C4 Model was developed to bridge the gap between the detailed UML standard,
and informal diagrams without any standardised semantics.
It offers four levels of abstraction (context, container, component, code, hence <em>C4</em>).
although it recommendeds only using the first three levels
<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.</p>
</div>
<div class="paragraph">
<p>In its full form, using a tool like Structurizr, it can also capture a model,
and generate different diagrams as views of that model.</p>
</div>
<div class="paragraph">
<p>C4 limits itself to structural views, and actively promotes the use of additional diagram and model techniques to provide more context or detail.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>PlantUML also supports drawing C4 diagrams, using its own syntax.</p>
</div>
<div class="paragraph">
<p>Structurizr has an open source commandline tool that can generate PlantUML descriptions from C4 models.</p>
</div>
<div class="paragraph">
<p>Rendering Structurizr diagrams directly can only be done via the online service.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_closing_remarks"><a class="anchor" href="#_closing_remarks"></a>Closing remarks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Both UML and C4 provide description languages as well as diagram notations.
PlantUML can draw diagrams that follow the diagram notation standards,
but uses its own description languages for the specification.
This is fine for the documentation I do, but does lock those diagrams to PlantUML specifically.</p>
</div>
<div class="paragraph">
<p>There are additional diagram types that may be included as "standards" in the future.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flowcharts</p>
</li>
<li>
<p>Gantt charts</p>
</li>
<li>
<p>Work breakdown structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links"><a class="anchor" href="#_links"></a>Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://plantuml.com/">PlantUML</a> supports UML, WBS, C4, and more.</p>
</li>
<li>
<p>The <a href="https://c4model.com/">C4 model</a> is <a href="https://github.com/plantuml-stdlib/C4-PlantUML/tree/releases/v2">part of PlantUML&#8217;s standard library</a>.</p>
</li>
<li>
<p><a href="https://kroki.io/">Kroki</a> provides a unified API for PlantUML and other visualisation tools.</p>
</li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. The <em>code</em> level best used only if there are a lot of classes or interfaces to document, and it preferably can be generated from source code
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="asciidoc-antora.html">Asciidoc and Antora</a></span>
  <span class="next"><a href="../style_choices/index.html">Style choices</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="columns">
    <aside>
      <h1>Contact me</h1>
      <p><a href="mailto://rolf@drostan.org" rel="me">rolf@drostan.org</a></p>
      <p><a href="https://www.drostan.org/contact/" rel="me" title="Pick a suitable time for both of us to talk.">propose a call or meeting</a></p>
    </aside>

    <aside>
      <h1>Hire me via</h1>
      <p><a href="https://www.data4development.nl">Data4Development B.V.</a><br>The Netherlands</p>
      <p><a href="mailto://rolf@data4development.org" rel="me">rolf@data4development.org</a></p>
    </aside>

    <aside>
      <h1>My office</h1>
      <p><a href="https://www.timorplein.com" target="_blank" rel="noopener">U-30</a><br><a href="https://www.google.nl/maps/dir//Timorplein+30,+1094+CC+Amsterdam" target="_blank" rel="noopener">Timorplein 30<br>Amsterdam, The Netherlands</a></p>
    </aside>

    <aside>
      <h1>Official links</h1>
      <p><a href="https://www.kvk.nl/orderstraat/product-kiezen/?kvknummer=615707450000" title="Chamber of Commerce/Kamer van Koophandel registration, click to verify" target="_blank">Registration: KvK 61570745</a></p>
      <p><a href="https://ec.europa.eu/taxation_customs/vies/vatResponse.html?memberStateCode=NL&amp;number=001411397B38" title="VAT or BTW registration: click to verify" target="_blank">VAT/BTW: NL001411397B38</a></p>
    </aside>
  </div>

  <div class="credits">
    <p><a href="/overview/colophon.html">colophon and copyright notice</a></p>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/vendor/search.js" id="search-script" data-base-path="../.." data-page-path="/documentation_system/technology_choices/plantuml-kroki.html"></script>
<script async src="../../_/../search-index.js"></script>
<script type="application/json" class="js-hypothesis-config">
{
  "showHighlights": "whenSidebarOpen"
}
</script>
<script async src="https://hypothes.is/embed.js"></script>  </body>
</html>
